.race-container {
  display: flex; flex-direction: column; align-items: center; padding: 2rem;
  
  .track {
    width: 100%; max-width: 800px; background: #222; padding: 20px 40px 20px 20px; // Padding destro extra per il traguardo
    border-radius: 10px;
    position: relative; margin-bottom: 2rem;
    box-shadow: inset 0 0 20px black;

    // La linea del traguardo
    .finish-line {
      position: absolute; 
      right: 40px; // Corrisponde al padding destro
      top: 10px; bottom: 10px; width: 6px; 
      background: repeating-linear-gradient(
        45deg, 
        white, white 10px, 
        black 10px, black 20px
      ); 
      z-index: 5;
      box-shadow: 0 0 10px white;
    }

    .lane {
      position: relative; // Necessario per posizionare l'icona assoluta dentro
      height: 40px; // Altezza fissa per ogni corsia
      margin-bottom: 25px; 
      border-radius: 5px;
      display: flex; align-items: center; // Centra verticalmente la barra
      
      // Sfondo corsia leggero
      background: rgba(255,255,255,0.05);
      
      &.selected { border: 1px solid gold; background: rgba(255,215,0,0.1); }

      // ICONA DEL CORRIDORE
      .racer-icon {
        position: absolute;
        top: -25px; // Posizionato sopra la barra
        font-size: 1.8rem; 
        font-weight: bold;
        white-space: nowrap; // Evita che il testo vada a capo
        z-index: 10;
        
        // TRUCCO FONDAMENTALE:
        // Sposta l'icona indietro del 100% della sua larghezza.
        // Cos√¨ il lato DESTRO dell'icona tocca il punto di progresso.
        transform: translateX(-100%); 
        
        transition: left 0.05s linear; // Movimento fluido
        text-shadow: 2px 2px 2px black;
        pointer-events: none; // Evita click accidentali sull'icona
        
        // Piccola freccia o indicatore sotto il nome (opzionale)
        border-bottom: 2px solid currentColor; 
      }
      
      // BARRA DI PROGRESSO
      .progress-bar {
        width: 100%;
        height: 12px; 
        background: #111; 
        border-radius: 6px; 
        overflow: hidden;
        position: relative;
        border: 1px solid #444;

        .fill { 
          height: 100%; 
          width: 0; 
          transition: width 0.05s linear; // Sincronizzato col timer
          box-shadow: 0 0 10px currentColor; // Effetto neon del colore del corridore
        }
      }
    }
  }

  .status { font-size: 1.5rem; color: #ff9f43; font-weight: bold; margin-bottom: 20px; min-height: 30px;}
  
  .controls {
    .input-area {
      display: flex; align-items: center;
      label { color: white; margin-right: 10px; font-size: 1.2rem; }
      input { padding: 10px; font-size: 1.2rem; width: 100px; margin-right: 10px; border-radius: 5px; border: none; text-align: center;}
      button { 
        padding: 10px 40px; font-size: 1.2rem; background: #ff9f43; border: none; cursor: pointer; font-weight: bold; border-radius: 5px;
        transition: transform 0.1s;
        &:active { transform: translateY(2px); }
        &:disabled { background: #555; cursor: not-allowed; }
      }
    }
  }
}